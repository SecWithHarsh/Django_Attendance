{% extends 'base.html' %}
{% block title %}Admin Guide - QR Attendance{% endblock %}
{% block content %}
<div class="container">
    <div class="mb-4 text-center">
        <h2 class="mb-1"><i class="fas fa-user-shield me-2"></i>Admin Guide</h2>
        <p class="text-muted mb-0">Essential tasks only — trimmed for speed & clarity</p>
    </div>

    <div class="row g-4">
        <div class="col-md-4">
            <div class="card h-100 shadow-sm">
                <div class="card-header bg-primary text-white py-2"><h6 class="mb-0 text-uppercase small"><i class="fas fa-right-to-bracket me-1"></i>Access</h6></div>
                <div class="card-body small">
                    <p class="mb-2"><strong>URL:</strong> /admin/</p>
                    <p class="mb-2">Create a superuser (production) instead of shipping default creds.</p>
                    <div class="alert alert-warning py-2 px-3 mb-2"><i class="fas fa-lock me-1"></i>Change default password immediately.</div>
                    <a href="/admin/" class="btn btn-sm btn-primary" target="_blank"><i class="fas fa-external-link-alt me-1"></i>Open Admin</a>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card h-100 shadow-sm">
                <div class="card-header bg-success text-white py-2"><h6 class="mb-0 text-uppercase small"><i class="fas fa-layer-group me-1"></i>Core Models</h6></div>
                <div class="card-body small">
                    <ul class="mb-2 ps-3">
                        <li><strong>Students</strong> – roster records</li>
                        <li><strong>Seminars</strong> – sessions to attend</li>
                        <li><strong>Attendance</strong> – scan events</li>
                    </ul>
                    <div class="alert alert-info py-2 px-3 mb-0"><i class="fas fa-info-circle me-1"></i>Edit Carefully: Deleting seminars cascades attendance.</div>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card h-100 shadow-sm">
                <div class="card-header bg-warning text-dark py-2"><h6 class="mb-0 text-uppercase small"><i class="fas fa-toggle-on me-1"></i>Seminar Status</h6></div>
                <div class="card-body small">
                    <div class="d-flex gap-2 mb-2 flex-wrap">
                        <span class="badge bg-secondary">Inactive</span>
                        <span class="badge bg-success">Active</span>
                        <span class="badge bg-danger">Ended</span>
                    </div>
                    <p class="mb-2">Only <strong>Active</strong> seminars appear in the scanner dropdown.</p>
                    <ol class="mb-2 ps-3">
                        <li>Edit seminar → set status</li>
                        <li>Use Actions dropdown for bulk</li>
                    </ol>
                    <div class="alert alert-light border py-2 px-3 mb-0"><i class="fas fa-bolt me-1"></i>No auto time-based change.</div>
                </div>
            </div>
        </div>
    </div>

    <div class="row g-4 mt-1">
        <div class="col-md-6">
            <div class="card shadow-sm h-100">
                <div class="card-header bg-info text-white py-2"><h6 class="mb-0 text-uppercase small"><i class="fas fa-qrcode me-1"></i>QR Management</h6></div>
                <div class="card-body small">
                    <ul class="ps-3 mb-2">
                        <li>Use <strong>Generate QR</strong> page for full/regenerate set</li>
                        <li>Missing image? Regenerate all (safe & idempotent)</li>
                        <li>Download ZIP after bulk generation</li>
                    </ul>
                    <div class="alert alert-secondary py-2 px-3 mb-0"><i class="fas fa-image-slash me-1"></i>Student list shows placeholder if image missing.</div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card shadow-sm h-100">
                <div class="card-header bg-dark text-white py-2"><h6 class="mb-0 text-uppercase small"><i class="fas fa-wrench me-1"></i>Troubleshooting</h6></div>
                <div class="card-body small">
                    <dl class="mb-0">
                        <dt class="fw-semibold">Scanner not listing seminar</dt>
                        <dd>Set seminar status to Active.</dd>
                        <dt class="fw-semibold mt-2">Camera blocked</dt>
                        <dd>Allow permission or use image upload/manual entry.</dd>
                        <dt class="fw-semibold mt-2">Wrong student data in export</dt>
                        <dd>Update student, then export again (CSV uses live join).</dd>
                    </dl>
                </div>
            </div>
        </div>
    </div>

    <div class="text-center mt-4 small text-muted">
        Need more detail later? Extended documentation can be added as markdown without cluttering this guide.
    </div>
</div>
{% endblock %}
